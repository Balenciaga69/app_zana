### 你該知道的

- 工程品質優先於開發速度，應避免一次性寫入大量代碼。
- 應先用註解和 TODO 來規劃架構，確定後再開始編碼。
- 系統應具備穩定性、可擴展性和易維護性，能夠經受時間考驗。
- 每個後端服務應獨立、自包含，遵循單一職責原則，避免過度耦合。
- 使用後端框架特性，圍繞生命週期和狀態管理進行開發，避免脫離框架的生命週期獨立使用。
- 初期採用 Feature Folder 結構，避免過早拆分專案，並預留 MediatR、AutoMapper、FluentValidation、Serilog、MassTransit 等橫切面功能的整合點。
- 所有服務應以最小可用單元（MVP）為目標，逐步迭代，確保每個功能可獨立驗證與測試。
- 資料存取層（EF Core/Repository Pattern）與業務邏輯層分離，確保責任明確。
- 訊息傳遞、即時通訊（SignalR）、快取（Redis）、資料庫（PostgreSQL）等基礎設施，皆應以介面抽象，方便後續替換與測試。
- 所有跨服務通訊（如未來 RabbitMQ/gRPC）皆需預留擴展點，但 MVP 階段僅需確保單體可運作。

### 關於 API 設計

- API 應遵循 RESTful 原則，保持一致性和可預測性。
- 使用版本控制來管理 API 的變更，確保向後相容性。
- 錯誤處理應統一，並提供清晰的錯誤訊息。
- 所有 API 回應應包裝為統一格式（如 ApiResponse），方便前端處理與日誌追蹤。
- API 僅暴露必要欄位，避免洩漏內部結構。

### 邏輯交互

- 使用中介者模式（MediatR）來解耦服務之間的交互。
- 數據存取層應與業務邏輯層分離，保持清晰的責任劃分。
- 使用日誌記錄系統（Serilog）來追蹤請求和錯誤，便於後續的問題排查。
- SignalR 連線管理與業務邏輯分離，僅負責協議層與連線狀態維護。
- 房間、用戶、聊天等核心服務皆需獨立，並透過介面進行依賴注入。
- 所有狀態變更（如房間銷毀、用戶離線）應有明確的事件流與日誌記錄。
- MVP 階段不考慮登入、金流、會員等功能，聚焦匿名聊天室核心流程。

---

這些原則將幫助開發者在後端開發中保持高效、可維護性，並符合 Jackson 階段的技術規劃與專案目標。